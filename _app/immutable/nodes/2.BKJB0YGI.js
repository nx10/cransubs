import{s as te,n as U,c as le,i as se}from"../chunks/scheduler.9gQ4Okzv.js";import{S as ae,i as ne,s as S,e as E,p as R,k as ie,d,f as j,c as I,a as V,l as B,q as F,m as v,g as y,h as c,r as O,u as $,t as C,b as D,n as oe,j as M,v as ee,o as G}from"../chunks/index.BkdivdDi.js";import{h as J,u as re,s as ue,i as H,p as K}from"../chunks/stores.CpgrIijk.js";import{b as L}from"../chunks/paths.DiHcY0pf.js";function z(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Q(i,e,t){const a=i.slice();return a[8]=e[t],a}function W(i,e,t){const a=i.slice();return a[11]=e[t],a[13]=t,a}function ce(i){let e,t=i[14].message+"",a;return{c(){e=E("p"),a=C(t),this.h()},l(u){e=I(u,"P",{style:!0});var r=V(e);a=D(r,t),r.forEach(d),this.h()},h(){oe(e,"color","red")},m(u,r){y(u,e,r),c(e,a)},p(u,r){r&4&&t!==(t=u[14].message+"")&&M(a,t)},d(u){u&&d(e)}}}function fe(i){let e,t,a,u=`<a href="${L}/about" class="my-4">About this page</a>`,r,s,f,g=H(i[7].capture_time)+"",m,b,k=i[7].capture_duration/1e3+"",q,N,A=i[7].update_interval/60+"",p,x,h=z(i[7].queues),n=[];for(let l=0;l<h.length;l+=1)n[l]=Z(Q(i,h,l));let o=null;return h.length||(o=X()),{c(){for(let l=0;l<n.length;l+=1)n[l].c();o&&o.c(),e=S(),t=E("div"),a=E("span"),a.innerHTML=u,r=S(),s=E("span"),f=C("Updated "),m=C(g),b=C(" in "),q=C(k),N=C(` seconds. Updating
				every `),p=C(A),x=C(" minutes."),this.h()},l(l){for(let P=0;P<n.length;P+=1)n[P].l(l);o&&o.l(l),e=j(l),t=I(l,"DIV",{class:!0});var w=V(t);a=I(w,"SPAN",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-90mfgm"&&(a.innerHTML=u),r=j(w),s=I(w,"SPAN",{class:!0});var _=V(s);f=D(_,"Updated "),m=D(_,g),b=D(_," in "),q=D(_,k),N=D(_,` seconds. Updating
				every `),p=D(_,A),x=D(_," minutes."),_.forEach(d),w.forEach(d),this.h()},h(){v(a,"class","hover:underline text-slate-600"),v(s,"class","float-right text-sm font-light"),v(t,"class","text-slate-500 my-4 ")},m(l,w){for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(l,w);o&&o.m(l,w),y(l,e,w),y(l,t,w),c(t,a),c(t,r),c(t,s),c(s,f),c(s,m),c(s,b),c(s,q),c(s,N),c(s,p),c(s,x)},p(l,w){if(w&14){h=z(l[7].queues);let _;for(_=0;_<h.length;_+=1){const P=Q(l,h,_);n[_]?n[_].p(P,w):(n[_]=Z(P),n[_].c(),n[_].m(e.parentNode,e))}for(;_<n.length;_+=1)n[_].d(1);n.length=h.length,!h.length&&o?o.p(l,w):h.length?o&&(o.d(1),o=null):(o=X(),o.c(),o.m(e.parentNode,e))}w&4&&g!==(g=H(l[7].capture_time)+"")&&M(m,g),w&4&&k!==(k=l[7].capture_duration/1e3+"")&&M(q,k),w&4&&A!==(A=l[7].update_interval/60+"")&&M(p,A)},d(l){l&&(d(e),d(t)),ee(n,l),o&&o.d(l)}}}function X(i){let e,t="No submissions match the search query.";return{c(){e=E("p"),e.textContent=t,this.h()},l(a){e=I(a,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-14j46sp"&&(e.textContent=t),this.h()},h(){v(e,"class","text-slate-800")},m(a,u){y(a,e,u)},p:U,d(a){a&&d(e)}}}function he(i){let e,t,a,u=i[8].queue.length-10+"",r,s,f,g;return{c(){e=E("div"),t=E("div"),a=C("Show "),r=C(u),s=C(" more..."),this.h()},l(m){e=I(m,"DIV",{class:!0});var b=V(e);t=I(b,"DIV",{class:!0});var k=V(t);a=D(k,"Show "),r=D(k,u),s=D(k," more..."),k.forEach(d),b.forEach(d),this.h()},h(){v(t,"class","text-slate-600 py-1"),v(e,"class","flex flex-row space-x-1 items-center justify-center hover:bg-slate-200 odd:bg-white even:bg-slate-50 cursor-pointer")},m(m,b){y(m,e,b),c(e,t),c(t,a),c(t,r),c(t,s),f||(g=$(e,"click",function(){se(i[3](i[8]))&&i[3](i[8]).apply(this,arguments)},{once:!0}),f=!0)},p(m,b){i=m,b&4&&u!==(u=i[8].queue.length-10+"")&&M(r,u)},d(m){m&&d(e),f=!1,g()}}}function de(i){let e,t,a,u=i[13]+1+"",r,s,f,g=i[11].pkg_name+"",m,b,k,q=i[11].pkg_version+"",N,A,p,x=H(i[11].file_time)+"",h,n;return{c(){e=E("a"),t=E("div"),a=C("#"),r=C(u),s=S(),f=E("div"),m=C(g),b=S(),k=E("div"),N=C(q),A=S(),p=E("div"),h=C(x),this.h()},l(o){e=I(o,"A",{href:!0,class:!0});var l=V(e);t=I(l,"DIV",{class:!0});var w=V(t);a=D(w,"#"),r=D(w,u),w.forEach(d),s=j(l),f=I(l,"DIV",{class:!0});var _=V(f);m=D(_,g),_.forEach(d),b=j(l),k=I(l,"DIV",{class:!0});var P=V(k);N=D(P,q),P.forEach(d),A=j(l),p=I(l,"DIV",{class:!0});var T=V(p);h=D(T,x),T.forEach(d),l.forEach(d),this.h()},h(){v(t,"class","font-light text-sm w-14 text-slate-500"),v(f,"class","text-slate-900"),v(k,"class","text-sm text-slate-500 flex-auto"),v(p,"class","text-sm font-light"),v(e,"href",n=L+K(i[11])),v(e,"class","flex flex-row space-x-1 items-center hover:bg-slate-200 odd:bg-white even:bg-slate-50 px-2 py-1 first:rounded-t-md last:rounded-b-md")},m(o,l){y(o,e,l),c(e,t),c(t,a),c(t,r),c(e,s),c(e,f),c(f,m),c(e,b),c(e,k),c(k,N),c(e,A),c(e,p),c(p,h)},p(o,l){l&4&&g!==(g=o[11].pkg_name+"")&&M(m,g),l&4&&q!==(q=o[11].pkg_version+"")&&M(N,q),l&4&&x!==(x=H(o[11].file_time)+"")&&M(h,x),l&4&&n!==(n=L+K(o[11]))&&v(e,"href",n)},d(o){o&&d(e)}}}function Y(i){let e,t;function a(s,f){if(f&6&&(e=null),e==null&&(e=s[1].indexOf(s[8])!==-1||s[13]<5||s[13]>s[8].queue.length-6),e)return de;if(s[13]==5)return he}let u=a(i,-1),r=u&&u(i);return{c(){r&&r.c(),t=G()},l(s){r&&r.l(s),t=G()},m(s,f){r&&r.m(s,f),y(s,t,f)},p(s,f){u===(u=a(s,f))&&r?r.p(s,f):(r&&r.d(1),r=u&&u(s),r&&(r.c(),r.m(t.parentNode,t)))},d(s){s&&d(t),r&&r.d(s)}}}function Z(i){let e,t,a=i[8].info.name+"",u,r,s,f=i[8].queue.length+"",g,m,b,k,q=i[8].info.description+"",N,A,p,x=z(i[8].queue),h=[];for(let n=0;n<x.length;n+=1)h[n]=Y(W(i,x,n));return{c(){e=E("div"),t=E("div"),u=C(a),r=S(),s=E("div"),g=C(f),m=C(" packages"),b=S(),k=E("p"),N=C(q),A=S(),p=E("div");for(let n=0;n<h.length;n+=1)h[n].c();this.h()},l(n){e=I(n,"DIV",{class:!0});var o=V(e);t=I(o,"DIV",{class:!0});var l=V(t);u=D(l,a),l.forEach(d),r=j(o),s=I(o,"DIV",{class:!0});var w=V(s);g=D(w,f),m=D(w," packages"),w.forEach(d),o.forEach(d),b=j(n),k=I(n,"P",{class:!0});var _=V(k);N=D(_,q),_.forEach(d),A=j(n),p=I(n,"DIV",{class:!0});var P=V(p);for(let T=0;T<h.length;T+=1)h[T].l(P);P.forEach(d),this.h()},h(){v(t,"class","flex-auto text-2xl font-bold "),v(s,"class","text-slate-500"),v(e,"class","flex flex-row space-x-1 items-end pt-3 mb-1"),v(k,"class","italic text-sm text-slate-600"),v(p,"class","flex flex-col border border-slate-300 rounded-md mt-2")},m(n,o){y(n,e,o),c(e,t),c(t,u),c(e,r),c(e,s),c(s,g),c(s,m),y(n,b,o),y(n,k,o),c(k,N),y(n,A,o),y(n,p,o);for(let l=0;l<h.length;l+=1)h[l]&&h[l].m(p,null)},p(n,o){if(o&4&&a!==(a=n[8].info.name+"")&&M(u,a),o&4&&f!==(f=n[8].queue.length+"")&&M(g,f),o&4&&q!==(q=n[8].info.description+"")&&M(N,q),o&14){x=z(n[8].queue);let l;for(l=0;l<x.length;l+=1){const w=W(n,x,l);h[l]?h[l].p(w,o):(h[l]=Y(w),h[l].c(),h[l].m(p,null))}for(;l<h.length;l+=1)h[l].d(1);h.length=x.length}},d(n){n&&(d(e),d(b),d(k),d(A),d(p)),ee(h,n)}}}function pe(i){let e,t="Fetching snapshot...";return{c(){e=E("p"),e.textContent=t},l(a){e=I(a,"P",{"data-svelte-h":!0}),B(e)!=="svelte-13nyggy"&&(e.textContent=t)},m(a,u){y(a,e,u)},p:U,d(a){a&&d(e)}}}function ve(i){let e,t,a,u='<div class="text-3xl font-bold pr-2 text-slate-600 text-center mb-5 mt-4">CRAN submission tracker</div>',r,s,f,g,m,b,k,q,N,A,p={ctx:i,current:null,token:null,hasCatch:!0,pending:pe,then:fe,catch:ce,value:7,error:14};return J(q=i[2],p),{c(){e=S(),t=E("main"),a=E("a"),a.innerHTML=u,r=S(),s=E("div"),f=R("svg"),g=R("path"),m=S(),b=E("input"),k=S(),p.block.c(),this.h()},l(x){ie("svelte-1i7kshk",document.head).forEach(d),e=j(x),t=I(x,"MAIN",{class:!0});var n=V(t);a=I(n,"A",{href:!0,"data-svelte-h":!0}),B(a)!=="svelte-4zpjwh"&&(a.innerHTML=u),r=j(n),s=I(n,"DIV",{class:!0});var o=V(s);f=F(o,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var l=V(f);g=F(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),V(g).forEach(d),l.forEach(d),m=j(o),b=I(o,"INPUT",{type:!0,placeholder:!0,class:!0}),o.forEach(d),k=j(n),p.block.l(n),n.forEach(d),this.h()},h(){document.title="CRAN sub tracker",v(a,"href",L+"/"),v(g,"stroke-linecap","round"),v(g,"stroke-linejoin","round"),v(g,"stroke-width",2),v(g,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),v(f,"xmlns","http://www.w3.org/2000/svg"),v(f,"class","absolute top-0 bottom-0 w-6 h-6 my-auto text-gray-400 left-3"),v(f,"fill","none"),v(f,"viewBox","0 0 24 24"),v(f,"stroke","currentColor"),v(b,"type","text"),v(b,"placeholder","Search"),v(b,"class","w-full py-3 pl-12 pr-4 text-slate-500 border rounded-md outline-none bg-gray-50 focus:text-slate-900 focus:bg-white focus:border-slate-500"),v(s,"class","relative mt-3"),v(t,"class","my-0 mx-auto max-w-3xl px-2")},m(x,h){y(x,e,h),y(x,t,h),c(t,a),c(t,r),c(t,s),c(s,f),c(f,g),c(s,m),c(s,b),O(b,i[0]),c(t,k),p.block.m(t,p.anchor=null),p.mount=()=>t,p.anchor=null,N||(A=$(b,"input",i[5]),N=!0)},p(x,[h]){i=x,h&1&&b.value!==i[0]&&O(b,i[0]),p.ctx=i,h&4&&q!==(q=i[2])&&J(q,p)||re(p,i,h)},i:U,o:U,d(x){x&&(d(e),d(t)),p.block.d(),p.token=null,p=null,N=!1,A()}}}function _e(i,e,t){let a,u;le(i,ue,m=>t(4,u=m));let r="",s=[];function f(m){return()=>{s.push(m),t(1,s)}}function g(){r=this.value,t(0,r)}return i.$$.update=()=>{i.$$.dirty&17&&t(2,a=u.then(m=>m.filter(r)))},[r,s,a,f,u,g]}class we extends ae{constructor(e){super(),ne(this,e,_e,ve,te,{})}}export{we as component};
