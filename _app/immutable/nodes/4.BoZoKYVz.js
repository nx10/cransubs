import{s as wt,n as Oe,c as kt}from"../chunks/scheduler.9gQ4Okzv.js";import{S as It,i as Rt,s as m,e as c,k as St,d as a,f as b,c as p,a as _,l as T,m as i,g as v,h as e,t as x,b as g,n as Ht,j as A,o as Ct}from"../chunks/index.BkdivdDi.js";import{h as Et,u as Tt,s as qt,i as le,a as yt,p as Pt,b as At}from"../chunks/stores.CpgrIijk.js";import{b as rt}from"../chunks/paths.CozX13px.js";import{p as Dt}from"../chunks/stores.DhAUTWXb.js";function Mt(n){let l,s=n[4].message+"",u;return{c(){l=c("p"),u=x(s),this.h()},l(f){l=p(f,"P",{style:!0});var r=_(l);u=g(r,s),r.forEach(a),this.h()},h(){Ht(l,"color","red")},m(f,r){v(f,l,r),e(l,u)},p(f,r){r&1&&s!==(s=f[4].message+"")&&A(u,s)},d(f){f&&a(l)}}}function Vt(n){let l;function s(r,d){return r[0]?Lt:jt}let u=s(n),f=u(n);return{c(){f.c(),l=Ct()},l(r){f.l(r),l=Ct()},m(r,d){f.m(r,d),v(r,l,d)},p(r,d){u===(u=s(r))&&f?f.p(r,d):(f.d(1),f=u(r),f&&(f.c(),f.m(l.parentNode,l)))},d(r){r&&a(l),f.d(r)}}}function jt(n){let l;return{c(){l=x("Package does not exist (anymore?)")},l(s){l=g(s,"Package does not exist (anymore?)")},m(s,u){v(s,l,u)},p:Oe,d(s){s&&a(l)}}}function Lt(n){let l,s,u=n[0][0].pkg_name+"",f,r,d,k=n[0][0].pkg_version+"",E,F,h,C,P,q="Submitted",Ue,Q,se=le(n[0][0].file_time)+"",ve,Fe,z,ze,ae=le(n[0][1].queue[0].file_time)+"",me,Be,N,B,ot="Status",Ge,W,ne=n[0][1].info.name+"",be,Je,D,Ke,re=n[0][1].queue.indexOf(n[0][0])+1+"",xe,Qe,oe=n[0][1].queue.length+"",ge,We,w,G,it="Size",Xe,X,ie=yt(n[0][0].file_bytes)+"",ke,Ye,J,ut=".tar.gz",Ce,M,ue=n[0][1].info.longdescription+"",Ee,Ze,Y,I,$e,fe=n[0][1].info.reference_label+"",ye,et,Pe,Ae,j,ft="Track this submission:",Ne,R,ce,we,L,ct="Track the newest submission with this name:",Ie,S,pe,Re,H,Se,de,O,tt,He,Te,V,U,lt,he=le(n[0][0].request_time)+"",qe,st,at,K,pt=`<a href="${rt}/about" class="my-4">About this page</a>`,y=n[0][0].folder!=="newbies"&&Nt(n);return{c(){l=c("h1"),s=c("span"),f=x(u),r=m(),d=c("span"),E=x(k),F=m(),h=c("div"),C=c("div"),P=c("h4"),P.textContent=q,Ue=m(),Q=c("p"),ve=x(se),Fe=m(),z=c("p"),ze=x("Oldest: "),me=x(ae),Be=m(),N=c("div"),B=c("h4"),B.textContent=ot,Ge=m(),W=c("p"),be=x(ne),Je=m(),D=c("p"),Ke=x("#"),xe=x(re),Qe=x(" of "),ge=x(oe),We=m(),w=c("div"),G=c("h4"),G.textContent=it,Xe=m(),X=c("span"),ke=x(ie),Ye=m(),J=c("p"),J.textContent=ut,Ce=m(),M=c("div"),Ee=x(ue),Ze=m(),Y=c("span"),I=c("a"),$e=x("("),ye=x(fe),et=x(")"),Ae=m(),j=c("p"),j.textContent=ft,Ne=m(),R=c("input"),we=m(),L=c("p"),L.textContent=ct,Ie=m(),S=c("input"),Re=m(),H=c("div"),y&&y.c(),Se=m(),de=c("p"),O=c("a"),tt=x("Find on CRAN_incoming"),Te=m(),V=c("div"),U=c("span"),lt=x("Updated "),qe=x(he),st=x("."),at=m(),K=c("span"),K.innerHTML=pt,this.h()},l(t){l=p(t,"H1",{});var o=_(l);s=p(o,"SPAN",{class:!0});var dt=_(s);f=g(dt,u),dt.forEach(a),r=b(o),d=p(o,"SPAN",{class:!0});var ht=_(d);E=g(ht,k),ht.forEach(a),o.forEach(a),F=b(t),h=p(t,"DIV",{class:!0});var Z=_(h);C=p(Z,"DIV",{class:!0});var $=_(C);P=p($,"H4",{class:!0,"data-svelte-h":!0}),T(P)!=="svelte-1yyy1xr"&&(P.textContent=q),Ue=b($),Q=p($,"P",{class:!0});var _t=_(Q);ve=g(_t,se),_t.forEach(a),Fe=b($),z=p($,"P",{class:!0});var nt=_(z);ze=g(nt,"Oldest: "),me=g(nt,ae),nt.forEach(a),$.forEach(a),Be=b(Z),N=p(Z,"DIV",{class:!0});var ee=_(N);B=p(ee,"H4",{class:!0,"data-svelte-h":!0}),T(B)!=="svelte-2ysz7m"&&(B.textContent=ot),Ge=b(ee),W=p(ee,"P",{class:!0});var vt=_(W);be=g(vt,ne),vt.forEach(a),Je=b(ee),D=p(ee,"P",{class:!0});var _e=_(D);Ke=g(_e,"#"),xe=g(_e,re),Qe=g(_e," of "),ge=g(_e,oe),_e.forEach(a),ee.forEach(a),We=b(Z),w=p(Z,"DIV",{class:!0});var te=_(w);G=p(te,"H4",{class:!0,"data-svelte-h":!0}),T(G)!=="svelte-1o8wks5"&&(G.textContent=it),Xe=b(te),X=p(te,"SPAN",{class:!0});var mt=_(X);ke=g(mt,ie),mt.forEach(a),Ye=b(te),J=p(te,"P",{class:!0,"data-svelte-h":!0}),T(J)!=="svelte-17ijhtn"&&(J.textContent=ut),te.forEach(a),Z.forEach(a),Ce=b(t),M=p(t,"DIV",{class:!0});var De=_(M);Ee=g(De,ue),Ze=b(De),Y=p(De,"SPAN",{class:!0});var bt=_(Y);I=p(bt,"A",{href:!0,class:!0});var Me=_(I);$e=g(Me,"("),ye=g(Me,fe),et=g(Me,")"),Me.forEach(a),bt.forEach(a),De.forEach(a),Ae=b(t),j=p(t,"P",{class:!0,"data-svelte-h":!0}),T(j)!=="svelte-603uxh"&&(j.textContent=ft),Ne=b(t),R=p(t,"INPUT",{type:!0,class:!0}),we=b(t),L=p(t,"P",{class:!0,"data-svelte-h":!0}),T(L)!=="svelte-1i89mgl"&&(L.textContent=ct),Ie=b(t),S=p(t,"INPUT",{type:!0,class:!0}),Re=b(t),H=p(t,"DIV",{class:!0});var Ve=_(H);y&&y.l(Ve),Se=b(Ve),de=p(Ve,"P",{});var xt=_(de);O=p(xt,"A",{class:!0,href:!0});var gt=_(O);tt=g(gt,"Find on CRAN_incoming"),gt.forEach(a),xt.forEach(a),Ve.forEach(a),Te=b(t),V=p(t,"DIV",{class:!0});var je=_(V);U=p(je,"SPAN",{class:!0});var Le=_(U);lt=g(Le,"Updated "),qe=g(Le,he),st=g(Le,"."),Le.forEach(a),at=b(je),K=p(je,"SPAN",{class:!0,"data-svelte-h":!0}),T(K)!=="svelte-18krnhw"&&(K.innerHTML=pt),je.forEach(a),this.h()},h(){i(s,"class","text-5xl font-bold pr-2 text-slate-800"),i(d,"class","text-4xl font-bold text-slate-600"),i(P,"class","text-xl text-slate-600 font-bold rounded-l-md"),i(Q,"class","text-3xl"),i(z,"class","text-slate-500 font-light mt-1"),i(C,"class","p-3 text-slate-900 grow"),i(B,"class","text-xl text-slate-600 font-bold rounded-l-md "),i(W,"class","text-3xl"),i(D,"class","text-slate-500 font-light mt-1"),i(N,"class","p-3 text-slate-900 grow"),i(G,"class","text-xl text-slate-600 font-bold rounded-l-md"),i(X,"class","text-3xl"),i(J,"class","text-slate-500 font-light mt-1"),i(w,"class","p-3 text-slate-900 grow"),i(h,"class","flex border border-slate-300 rounded-md my-4 divide-x divide-y text-center"),i(I,"href",Pe=n[0][1].info.reference),i(I,"class","my-4"),i(Y,"class","text-sm font-light text-slate-500"),i(M,"class","px-10 my-3 text-slate-700"),i(j,"class","font-bold text-slate-800"),i(R,"type","text"),R.readOnly=!0,R.value=ce="nx10.github.io/cransubs"+Pt(n[0][0]),i(R,"class","w-full my-1 py-1 px-3 text-slate-900 border rounded-md outline-none bg-gray-50 focus:text-slate-900 focus:bg-white focus:border-slate-500"),i(L,"class","font-bold text-slate-800"),i(S,"type","text"),S.readOnly=!0,S.value=pe="nx10.github.io/cransubs"+At(n[0][0]),i(S,"class","w-full my-1 py-1 px-3 text-slate-900 border rounded-md outline-none bg-gray-50 focus:text-slate-900 focus:bg-white focus:border-slate-500"),i(O,"class","hover:underline hover:text-blue-900"),i(O,"href",He="https://cran.r-project.org/incoming/"+n[0][0].folder),i(H,"class","mt-1 text-blue-800"),i(U,"class",""),i(K,"class","hover:underline text-slate-600"),i(V,"class","float-right text-sm font-light text-slate-500")},m(t,o){v(t,l,o),e(l,s),e(s,f),e(l,r),e(l,d),e(d,E),v(t,F,o),v(t,h,o),e(h,C),e(C,P),e(C,Ue),e(C,Q),e(Q,ve),e(C,Fe),e(C,z),e(z,ze),e(z,me),e(h,Be),e(h,N),e(N,B),e(N,Ge),e(N,W),e(W,be),e(N,Je),e(N,D),e(D,Ke),e(D,xe),e(D,Qe),e(D,ge),e(h,We),e(h,w),e(w,G),e(w,Xe),e(w,X),e(X,ke),e(w,Ye),e(w,J),v(t,Ce,o),v(t,M,o),e(M,Ee),e(M,Ze),e(M,Y),e(Y,I),e(I,$e),e(I,ye),e(I,et),v(t,Ae,o),v(t,j,o),v(t,Ne,o),v(t,R,o),v(t,we,o),v(t,L,o),v(t,Ie,o),v(t,S,o),v(t,Re,o),v(t,H,o),y&&y.m(H,null),e(H,Se),e(H,de),e(de,O),e(O,tt),v(t,Te,o),v(t,V,o),e(V,U),e(U,lt),e(U,qe),e(U,st),e(V,at),e(V,K)},p(t,o){o&1&&u!==(u=t[0][0].pkg_name+"")&&A(f,u),o&1&&k!==(k=t[0][0].pkg_version+"")&&A(E,k),o&1&&se!==(se=le(t[0][0].file_time)+"")&&A(ve,se),o&1&&ae!==(ae=le(t[0][1].queue[0].file_time)+"")&&A(me,ae),o&1&&ne!==(ne=t[0][1].info.name+"")&&A(be,ne),o&1&&re!==(re=t[0][1].queue.indexOf(t[0][0])+1+"")&&A(xe,re),o&1&&oe!==(oe=t[0][1].queue.length+"")&&A(ge,oe),o&1&&ie!==(ie=yt(t[0][0].file_bytes)+"")&&A(ke,ie),o&1&&ue!==(ue=t[0][1].info.longdescription+"")&&A(Ee,ue),o&1&&fe!==(fe=t[0][1].info.reference_label+"")&&A(ye,fe),o&1&&Pe!==(Pe=t[0][1].info.reference)&&i(I,"href",Pe),o&1&&ce!==(ce="nx10.github.io/cransubs"+Pt(t[0][0]))&&R.value!==ce&&(R.value=ce),o&1&&pe!==(pe="nx10.github.io/cransubs"+At(t[0][0]))&&S.value!==pe&&(S.value=pe),t[0][0].folder!=="newbies"?y?y.p(t,o):(y=Nt(t),y.c(),y.m(H,Se)):y&&(y.d(1),y=null),o&1&&He!==(He="https://cran.r-project.org/incoming/"+t[0][0].folder)&&i(O,"href",He),o&1&&he!==(he=le(t[0][0].request_time)+"")&&A(qe,he)},d(t){t&&(a(l),a(F),a(h),a(Ce),a(M),a(Ae),a(j),a(Ne),a(R),a(we),a(L),a(Ie),a(S),a(Re),a(H),a(Te),a(V)),y&&y.d()}}}function Nt(n){let l,s,u,f;return{c(){l=c("p"),s=c("a"),u=x("Find on CRAN (previous version)"),this.h()},l(r){l=p(r,"P",{});var d=_(l);s=p(d,"A",{class:!0,href:!0});var k=_(s);u=g(k,"Find on CRAN (previous version)"),k.forEach(a),d.forEach(a),this.h()},h(){i(s,"class","hover:underline hover:text-blue-900"),i(s,"href",f="https://CRAN.R-project.org/package="+n[0][0].pkg_name)},m(r,d){v(r,l,d),e(l,s),e(s,u)},p(r,d){d&1&&f!==(f="https://CRAN.R-project.org/package="+r[0][0].pkg_name)&&i(s,"href",f)},d(r){r&&a(l)}}}function Ot(n){let l,s="Fetching snapshot...";return{c(){l=c("p"),l.textContent=s},l(u){l=p(u,"P",{"data-svelte-h":!0}),T(l)!=="svelte-13nyggy"&&(l.textContent=s)},m(u,f){v(u,l,f)},p:Oe,d(u){u&&a(l)}}}function Ut(n){let l,s,u,f='<div class="text-3xl font-bold pr-2 text-slate-600 text-center mb-5 mt-4">CRAN submission tracker</div>',r,d,k,E,F=`<a href="${rt}/" class="text-l text-slate-500 hover:underline hover:text-slate-800">‚Üê Back to browse</a>`,h={ctx:n,current:null,token:null,hasCatch:!0,pending:Ot,then:Vt,catch:Mt,value:0,error:4};return Et(d=n[0],h),{c(){l=m(),s=c("main"),u=c("a"),u.innerHTML=f,r=m(),h.block.c(),k=m(),E=c("div"),E.innerHTML=F,this.h()},l(C){St("svelte-1i7kshk",document.head).forEach(a),l=b(C),s=p(C,"MAIN",{class:!0});var q=_(s);u=p(q,"A",{href:!0,"data-svelte-h":!0}),T(u)!=="svelte-4zpjwh"&&(u.innerHTML=f),r=b(q),h.block.l(q),k=b(q),E=p(q,"DIV",{class:!0,"data-svelte-h":!0}),T(E)!=="svelte-111s4l9"&&(E.innerHTML=F),q.forEach(a),this.h()},h(){document.title="CRAN sub tracker",i(u,"href",rt+"/"),i(E,"class","mt-3 "),i(s,"class","my-0 mx-auto max-w-3xl px-2")},m(C,P){v(C,l,P),v(C,s,P),e(s,u),e(s,r),h.block.m(s,h.anchor=null),h.mount=()=>s,h.anchor=k,e(s,k),e(s,E)},p(C,[P]){n=C,h.ctx=n,P&1&&d!==(d=n[0])&&Et(d,h)||Tt(h,n,P)},i:Oe,o:Oe,d(C){C&&(a(l),a(s)),h.block.d(),h.token=null,h=null}}}function Ft(n,l,s){let u,f,r;kt(n,qt,k=>s(1,f=k)),kt(n,Dt,k=>s(2,r=k));const d=decodeURIComponent(r.url.hash.substring(1));return n.$$.update=()=>{n.$$.dirty&2&&s(0,u=f.then(k=>{const E=d.split("_");return E.length>1?k.find_pkg(E[0],E[1]):k.find_pkg(E[0])}))},[u,f]}class Qt extends It{constructor(l){super(),Rt(this,l,Ft,Ut,wt,{})}}export{Qt as component};
